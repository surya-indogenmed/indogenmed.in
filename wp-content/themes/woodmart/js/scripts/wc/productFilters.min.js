!function(m){woodmartThemeModule.$document.on("wdShopPageInit",function(){woodmartThemeModule.productFilters()}),m.each(["frontend/element_ready/wd_product_filters.default"],function(e,a){woodmartThemeModule.wdElementorAddAction(a,function(){woodmartThemeModule.productFilters()})}),woodmartThemeModule.productFilters=function(){woodmartThemeModule.$body.on("filter_price_slider_create filter_price_slider_slide",function(e,a,r,t,i,o){var s=accounting.formatMoney(a,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),l=accounting.formatMoney(r,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),o=(o.siblings(".filter_price_slider_amount").find("span.from").html(s),o.siblings(".filter_price_slider_amount").find("span.to").html(l),o.parents(".wd-pf-checkboxes").find(".wd-pf-results")),d=o.find(".selected-value");a===t&&r===i?d.remove():0===d.length?o.prepend('<li class="selected-value" data-title="price-filter" data-min="'+t+'" data-max="'+i+'">'+s+" - "+l+"</li>"):d.html(s+" - "+l),woodmartThemeModule.$body.trigger("price_slider_updated",[a,r])}),m(".wd-pf-price-range .price_slider_widget").each(function(){var r=m(this),t=r.siblings(".filter_price_slider_amount").find(".min_price"),i=r.siblings(".filter_price_slider_amount").find(".max_price"),o=parseInt(t.data("min")),s=parseInt(i.data("max")),e=new URL(window.location.href),a=parseInt(e.searchParams.has("min_price")?e.searchParams.get("min_price"):t.val()),l=parseInt(e.searchParams.has("max_price")?e.searchParams.get("max_price"):i.val());m(".price_slider_widget, .price_label").show(),isNaN(a)&&(a=o),isNaN(l)&&(l=s),r.slider({range:!0,animate:!0,min:o,max:s,values:[a,l],create:function(){a===o&&l===s&&(t.val(""),i.val("")),woodmartThemeModule.$body.trigger("filter_price_slider_create",[a,l,o,s,r]),r.closest(".wd-pf-price-range").on("click",".wd-pf-results li",function(e){var a=m(this),r=a.closest(".wd-pf-checkboxes"),t=r.find(".pf-value");r.find(".min_price").val(""),r.find(".max_price").val(""),r.find(".price_slider_widget").slider("values",[r.find(".min_price").data("min"),r.find(".max_price").data("max")]),a.remove(),0!==t.length&&((r=new URL(t.attr("href"))).searchParams.delete("min_price"),r.searchParams.delete("max_price"),t.attr("href",r.href),t)&&t.trigger("click")})},slide:function(e,a){a.values[0]===o&&a.values[1]===s?(t.val(""),i.val("")):(t.val(a.values[0]),i.val(a.values[1])),woodmartThemeModule.$body.trigger("filter_price_slider_slide",[a.values[0],a.values[1],o,s,r])},change:function(e,a){woodmartThemeModule.$body.trigger("price_slider_change",[a.values[0],a.values[1]])}})});function n(e,a){var r;0!==e.length&&(0<(r=e.val()).indexOf(",")?e.val(r.replace(","+a,"").replace(a+",","")):e.val(r.replace(a,"")))}var e=m("form.wd-product-filters"),l={container:".main-page-wrapper",timeout:woodmart_settings.pjax_timeout,scrollTo:!1,renderCallback:function(a,e,r){woodmartThemeModule.removeDuplicatedStylesFromHTML(e,function(e){a.html(e),r(),woodmartThemeModule.$document.trigger("wdShopPageInit"),woodmartThemeModule.$document.trigger("wood-images-loaded")})}};e.each(function(e,o){var s=(o=m(o)).find(".wd-pf-btn button"),a=o.find(".wd-pf-checkboxes");o.on("click",".wd-pf-results li",function(e){var a,r=m(this),t=r.data("title"),i=r.closest(".wd-pf-checkboxes"),o=i.find(`.pf-value[data-val="${t}"]`);i.hasClass("wd-pf-price-range")||(0===s.length?o.trigger("click"):(a=i.find(".result-input"),i.hasClass("wd-pf-categories")&&i.closest("form.wd-product-filters").attr("action",woodmart_settings.shop_url),n(a,t),o.closest("li").removeClass("wd-active"),r.remove()))}),a.each(function(){var a=m(this),r=a.find(".wd-pf-title"),t=a.hasClass("multi_select"),i=(r.on("click",function(e){e=e.target;m(e).is(r.find(".selected-value"))||(a.hasClass("wd-opened")?i():(a.addClass("wd-opened"),setTimeout(function(){woodmartThemeModule.$document.trigger("wdProductFiltersOpened")},300)))}),woodmartThemeModule.$document.on("click",function(e){e=e.target;(!a.hasClass("wd-opened")||!t||m(e).is(a)||m(e).parents().is(a))&&(t||m(e).is(r)||m(e).parents().is(r))||i()}),function(){a.removeClass("wd-opened")})}),0===s.length?o.on("click",".wd-pf-checkboxes li > .pf-value, .filter_price_slider_amount .pf-value",function(e){var a,r,t,i=o.find(".filter_price_slider_amount");0<i.length&&(a=(i=i.find(".pf-value")).siblings(".min_price"),r=i.siblings(".max_price"),t=i.attr("href"),t=new URL(t),(a.val()||r.val())&&(t.searchParams.set(a.attr("name"),a.val()),t.searchParams.set(r.attr("name"),r.val()),i.attr("href",t.href)),a.val(""),r.val("")),"1"===woodmart_settings.ajax_shop&&void 0!==m.fn.pjax&&m.pjax.click(e,l)}):(o.on("click",".wd-pf-checkboxes li > .pf-value",function(e){e.preventDefault();var e=m(this),a=e.closest("form.wd-product-filters"),r=e.parent(),t=e.parents(".wd-pf-checkboxes"),i=t.find(".result-input"),o=t.find(".wd-pf-results"),s=t.hasClass("multi_select"),l=i.val(),d=e.data("title"),c=e.data("val");s?r.hasClass("wd-active")?(n(i,c),o.find('li[data-title="'+c+'"]').remove(),r.removeClass("wd-active")):(""===l?i.val(c):i.val(l+","+c),o.prepend('<li class="selected-value" data-title="'+c+'">'+d+"</li>"),r.addClass("wd-active")):r.hasClass("wd-active")?(i.val(""),o.find(".selected-value").remove(),r.removeClass("wd-active")):(i.val(c),o.find(".selected-value").remove(),o.prepend('<li class="selected-value" data-title="'+c+'">'+d+"</li>"),r.parents(".wd-scroll-content").find(".wd-active").removeClass("wd-active"),r.addClass("wd-active")),t.hasClass("wd-pf-categories")&&(s=new URL(e.attr("href")),l=woodmart_settings.shop_url,r.hasClass("wd-active")&&(l=s.origin+s.pathname),a.attr("action",l))}),"1"===woodmart_settings.ajax_shop&&void 0!==m.fn.pjax?m(document).off("submit","form.wd-product-filters").on("submit","form.wd-product-filters",function(e){e.preventDefault(),o=m(this),l.url=o.attr("action"),l.data=o.find(':input[value!=""]').serialize(),m.pjax(l)}):m(document).off("submit","form.wd-product-filters").on("submit","form.wd-product-filters",function(e){m(":input",this).each(function(){this.disabled=!m(this).val()})}))})},m(document).ready(function(){woodmartThemeModule.productFilters()}),window.addEventListener("popstate",function(){woodmartThemeModule.productFilters()})}(jQuery);